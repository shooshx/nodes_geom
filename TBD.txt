GUI:
- parameter value change with drag and right button like in houdini
- color picker with null?
- select *nodes* with Ctrl, rectangle (display params of multiple nodes at once?)
- zoom nodes view
- icons nodes view
- node show node name class if name doesn't include it
- progress bar for long run, abort button
- fix jumping of splits on page load
- Math.round lines just before drawing to avoid thinning artifacts when zooming?
- layout: https://github.com/golden-layout/golden-layout
- right click? on out terminal to show info about its output
- define camera?
- !!!!! input nodes are only active if they are in a current display tree
- !! ability to resize code editor and pop it out
- global input indicator that can be quickly turned off
- log slider (mandelbrot)
- Display param control default vertex size

ENGINE:
- before running - do type checking to nodes in/out terminals
- serialization - save only if something is changed
- save to SVG
- !!!!!! save to PNG
- !!! download all saves backup
- Animation using frame variable
- https://jshint.com/
- texture leaks?
- !!! frame buffer transform??
    - or maybe func transform?
    - explicit error
-figure out constness of images thing (can't get mutable ref?)
    - also texture destructor
- fix spurious runs on mousemove right after change (when async?)

EXPRESSIONS
- boolean comparisons operator ?: - better than if(,,) since false side is not evaluated
- intellisense
- ?? in any params view that can have expressions, add a custom user parameter that can be used with a slider
    - and added to the object that carries it
- expression in color in table (gradient)
- code for transform param
- expression in color box
- swizzle
- func with 0 argument has a bug in parse
- remove exponent opertor instead do it on number parsing
- *** Vec2Int (resolution image)
- default() to give value to non-existing variable - not so easy...
- check CodeMirror
- line errors for ExprErr outside main parsing (line in node)
    for mesh stuff eassert
- colors [0-1] everywhere (set attr)
- SetAttr with null return to do nothing like in fill
    -none value for function
- BUG: display_slider shouldn't call peval() - happens every add_elems

****** CURRENT AGENDA ******
- Copy
    - with existing vtx_transform, face_transform
    - in features.txt
- BUG? rendering with effective_vtx ?
- BUG: func node without show_code?
- BUG: if variable changes type, expression that depend on it need to be reparsed
- BUG engine - if there's marked template display above real display, there's going to be redundany runs on every other "space" key
     - since progress_io sets as dirty on the outputs of the template
     - fix - instead of progress_io, fetch the inputs before run
- distance fields
    - primitives
        half-plane
        polygons
        multi with bezier
            separate compile for shader, in worker thread?
            setTimeout?
        mesh of just vertices to circles
        multiple circles from vertices
            init from combiner
    - more smooth combiners
    - cache make_frag_text and don't generate it every time
    - marching sqares
        multiple iso lines, with value attached, color with gradient
    - moving, bounding walls
        - for walls - variable from object, anything from the object, x,y,bbox,transform,attrbiture
- manual geom create quads
- balls that know their end color
    - Animation
    - box2d
    - flow control
    - anim - some frames are not displayed?
- BoolParam from code (from variable)
    fix in SetAttr fill from ParamFloat to ParamBool with code
- frame buffer params default to viewport    
- Mandelbrot
    change power
    anim gradient
    Julia
- default(var, 1)
- gradient
    sampler transform only x
- FuncNode
    noise
    fb_factory from existing image
- Shader - BUG: auto transform param for mat3 uniform
- render any geometry to texture
    extend point-gradient
- Manual geom move -  maybe manual with multiple targets?
- allow terminal name change backwards compatibility - in_tex to in_framebuffer
- green coordinates
     - https://github.com/ugomadagu/Krita/blob/7626a015269510c13bf92268d00ad3fb13107e96/libs/image/kis_green_coordinates_math.cpp
     - http://www.wisdom.weizmann.ac.il/~ylipman/GC/gc_techrep.pdf
     - transform manual geom
     - transform image?


NODES:
- frame buffer
    - clone object consistent with the rest of the system
    - merge create and shader?
    - variable ratio, not just square, take the ratio of the current viewport
        - !!!!!! pixel buffer ratio according to resolution ratio (with checkbox - square pixels)
    - canvas set_width takes a long time, use a pool of canvases
- Viewport framebuffer
- Geom primitive
    - rect round edges
    - spiral
    - 2d function of t, sampled at intervals
    - free-hand path, min step distance
- manual geom
    - !!! complete table
    - delete point from list control gui
    - ??? move them even after transform?
    - primitive quad, triangle, path - between the points? by selection?
    - point size
    - BUG - yellow line doesn't follow the selected point
    - make several versions of the arrays in the same object and a node to select version - instead of a modify node
    - with code that adds triangles? combine code and clicks somehow?
- Divide 
    - just vertices without faces (better performance)
    - triangles - for better interpolation
    - unifies vertices?
    - divide line to sub lines, curves
    -  unify sublines into a single line? = different node
- delete geom by expr
- polyline fill
    UI for closing and starting a new poly, bugs with this
    triangulation
        edge case of non-input points coming from triangulate (corner points) ??? don't know how to do this
        add non-hole points?
    show arrows with on the lines to show its direction  
- triangulate  
    check why there's jumping when triangulating a primitive pentagon
- Paths 
    Node - discretisize Bezier
    circle/arc as primitive?
    show directionality of polygons
- SetAttr 
   - sample gradient in code
   - fill-from-node transform fill along with the shape 
      - need a shader to avoid many many renderings - need a separate node to render this
   - fill vertices circles?
   - !!! line color, width
   - !!!!!!!! open a table with the actual values of the vertices / faces
   - line attributes color
        - line as gradient between vertices colors
- transform invert - in expression?
- transform - fit one object to another? paper.js fitBounds
- interactive
    mouse input, adjust minimimum step (http://paperjs.org/tutorials/images/color-averaging-image-areas/)
- Group objects
    display display checkboxes (accumulate from connections?)
- GLSL node
    https://ace.c9.io/#nav=embedding
    https://codemirror.net/
    https://stackoverflow.com/questions/27531860/how-to-highlight-a-certain-line-in-ace-editor
    title of window with different color for fragment and vertex shaders
    tabbed view?
- Image processing  http://evanw.github.io/webgl-filter/
- !!!! Perlin Noise GLSL?
    https://github.com/stegu/webgl-noise/tree/master/src
    https://github.com/shooshx/kawaiigl/blob/0f403512b49187b677865179f3ef5eb18433b68b/NoiseGenerator.cpp
    simplex?
- Load-Image
    video
    menu on the side to load presets?
    !!! know when the user changed the filename and set size only when that happens and not on pis_dirty which happens on load
- point size to path circle
    and lines -- according to changing width
- bitmap trace
    potrace -  https://github.com/kilobtye/potrace/blob/master/potrace.js
        http://potrace.sourceforge.net/  
- delete points outside a shape (crop)
    node for clip using a path
- convex hull
- Copy - copy something onto vertices positions
    how to control parameters of the copies?
    for loop?
    webgl point sprites
- Gradient
    Atari rolling gradient effect
    in stroke (line),
    - Coon patch (not supported in chrome) http://tavmjong.free.fr/SVG/MESH/Mesh.html

- 2d color function
    - time
- random points  - https://www.sidefx.com/docs/houdini/nodes/sop/scatter.html
    on a surface
    on a line
    interpolate property from input geometry
    sample density from image
- Graph (4) coloring - for selecting some vertices at seemingly random
- 3D model and render
    sample models - sphere, torus, cylinder, pyramid-cylinder, cube, sphere from triangles
    with catmul-clark smoothing
- topograph
- Text paths  https://opentype.js.org/
- Shrink faces 
    - with expression depending on vtx_pos or any other attr
- Shader distance from path
- Flow control 
    - choose one input or another depending on expression
    - For loop?
- physics
    - Box2D
    - 3D - https://schteppe.github.io/cannon.js/
- SVG in WebGL?
    - paths to triangles https://css-tricks.com/rendering-svg-paths-in-webgl/
- BoolOp
    - do operation on local surroundings of the smaller (or selected) bbox for better performance
    - with just vertices (include/exclude vertex)
    - faster with C++ clipper?
- Offset-Path
    - bug with oversizing divided square - lighten doesn't get rid of first point of merge
    - discretization of bezier (and back to bezier from paperjs?)
    - detect what points are coming from round corner, convert to bezier
- WebGL
    - FrameBuffer rotate fast to 0 makes it skip frames? 
    - canvas owned by shader node
    - attr_names auto? still support arbitrary attributes
        getActiveAttrib, also type check with what's coming from mesh  
- plane deform
    https://www.iquilezles.org/www/articles/deform/deform.htm
- marching squares/triangles
    with adjucency like in video?  https://youtu.be/lctXaT9pxA0?t=370   
        smoothmin function for blending shapes
        3d primitives functions https://www.iquilezles.org/www/articles/distfunctions/distfunctions.htm
        2d https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
    ray marching
        https://adrianb.io/2016/10/01/raymarching.html#:~:text=Raymarching%20is%20a%20fairly%20new,the%20camera's%20field%20of%20vision.
    impl
        https://github.com/d3/d3-contour     
        https://github.com/RaumZeit/MarchingSquares.js
        https://github.com/sakri/MarchingSquaresJS - no, canvas based
        circle blobs: http://jamie-wong.com/2014/08/19/metaballs-and-marching-squares/

- Anim: Accumulate geometry every N frames
- Anim: object feedback - from specific frame, every N frame, from N frames in the past (delay line)

- animate? modify a property for the next frame
- random color with r,g,b ranges and seed parameter

- nodes the produce transform, invert it

- Variable with global memory - initialization (when?) and change trigger
    - use case - maintaining position using dx,dy drag from mouse, mouse wheel, for mandelbrot

- Variable from geometry of previous frame? - like number of vertices, derived from nodes

- 3D boolean ops - http://gts.sourceforge.net/

PAPER.JS
- smooth, simplify
- offset - https://github.com/luz-alphacode/paperjs-offset



NODE-VIEW
- better lines the go up
- don't allow connect more than one thing into an input, unless it's a multi-input
- terminal color according to type
- comments, frames, change color of node

DISCOVERABILITY
- detailed explanation about a node when selecting it in a tooltip and in the params

demo idea
- random points with random colors that make a field of polygons, animated to move slightly
- robot hand with transformations
- random points by texture
- stuff for AxiDraw
- function map with color gradient
- function contours like in d3 example
- star field screen saver
- topograph with gradient
- something looking like https://github.com/stolk/allrgb
- rainbow gradient like clock - radial with rays towards infinity (conic gradient) https://codepen.io/thebabydino/pen/pyOadx/
- ascii art
- spiral with width according to color (http://paperjs.org/examples/spiral-raster/)
- http://paperjs.org/examples/
- image effects http://iquilezles.org/www/articles/deform/deform.htm
- plasma https://stuff.brm.sk/plasma/
- filters from Krita 
- Moving Voronoi disagram with stars in a random walk in it
- fade from image to image?
- boids https://eater.net/boids
- stars https://codepen.io/AzazelN28/pen/zvXZQw
- square that explodes to triangles and reassembles to circle
    - expr create array of all the coords of the triangle and interpolate

https://two.js.org/examples/

nice visualizations: https://bost.ocks.org/mike/algorithms/
d3: https://github.com/d3/d3/wiki/Gallery
webflow?

nice reference images:
https://society6.com/product/gray-polygon-background_stretched-canvas

VEX random attr video: https://www.youtube.com/watch?v=0qfBj15IoQM
2D graphs: https://www.desmos.com/

beziers stuff? https://pomax.github.io/bezierjs/

line voronoi? 
    for min distance to poly
    http://www.cosy.sbg.ac.at/~held/projects/vroni/vroni.html
    https://github.com/aewallin/openvoronoi

LLyod relaxation?
    http://www.raymondhill.net/voronoi/rhill-voronoi-demo5.html

distance field guy:
    https://www.facebook.com/inigo.quilez.art/
    https://www.shadertoy.com/view/wlsfRn?fbclid=IwAR3_duQKAVCq5f-bYjqaXTgqYwE1jiWk1hIyHnHKGiufTcNh7ikJhSlO6G0

free music: https://freepd.com/
    https://freepd.com/music/Screen%20Saver.mp3
    https://www.youtube.com/watch?v=GSmZHaw9cTs

Name?
- 2dini?
- picodini
- flow something

get ideas from
    https://www.reddit.com/r/InternetIsBeautiful/
    procedural generation
    r/loadingicon

Minify:
    https://github.com/terser/terser

icons
    https://tablericons.com/

Pratt parser in rust: https://matklad.github.io/2020/04/13/simple-but-powerful-pratt-parsing.html

Write-About
- difference in radial gradient between canvas and svg (opposite circles), browsers difference